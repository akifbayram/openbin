import{_ as e,o as a,c as i,ag as t}from"./chunks/framework.BRz7bqS8.js";const k=JSON.parse('{"title":"Local Development","description":"","frontmatter":{},"headers":[],"relativePath":"getting-started/local-dev.md","filePath":"getting-started/local-dev.md"}'),n={name:"getting-started/local-dev.md"};function l(p,s,o,h,r,d){return a(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="local-development" tabindex="-1">Local Development <a class="header-anchor" href="#local-development" aria-label="Permalink to &quot;Local Development&quot;">​</a></h1><p>Running OpenBin locally without Docker lets you work on the frontend and server simultaneously with hot-module replacement and fast feedback cycles. The frontend dev server proxies API requests to the Express server, so both need to be running.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li><a href="https://nodejs.org/" target="_blank" rel="noreferrer">Node.js</a> 20 or later</li><li>Git</li></ul><h2 id="clone-and-install" tabindex="-1">Clone and Install <a class="header-anchor" href="#clone-and-install" aria-label="Permalink to &quot;Clone and Install&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/akifbayram/openbin.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openbin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # Install frontend dependencies</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Install server dependencies</span></span></code></pre></div><h2 id="run-both-servers" tabindex="-1">Run Both Servers <a class="header-anchor" href="#run-both-servers" aria-label="Permalink to &quot;Run Both Servers&quot;">​</a></h2><p>Open two terminal windows.</p><p><strong>Terminal 1 — API server:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p>The Express API starts at <code>http://localhost:3000</code>.</p><p><strong>Terminal 2 — Frontend dev server:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p>The Vite dev server starts at <code>http://localhost:5173</code>. Open this address in your browser.</p><div class="info custom-block"><p class="custom-block-title">How the proxy works</p><p>The Vite dev server proxies all <code>/api</code> requests to <code>http://localhost:3000</code> automatically. You only ever open <code>http://localhost:5173</code> in your browser during development.</p></div><h2 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment Variables&quot;">​</a></h2><p>Copy <code>.env.example</code> to a new <code>.env</code> file in the project root and uncomment the variables you need:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span></code></pre></div><p>Key variables for local development:</p><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Notes</th></tr></thead><tbody><tr><td><code>DATABASE_PATH</code></td><td><code>./data/openbin.db</code></td><td>SQLite file path; created automatically on first run</td></tr><tr><td><code>CORS_ORIGIN</code></td><td><code>http://localhost:5173</code></td><td>Must match the Vite dev server URL</td></tr><tr><td><code>PORT</code></td><td><code>3000</code></td><td>Express server port</td></tr><tr><td><code>REGISTRATION_ENABLED</code></td><td><code>true</code></td><td>Set to <code>false</code> to lock sign-ups</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For most local development workflows you do not need a <code>.env</code> file at all. The defaults work with the standard Vite + Express setup.</p></div><h2 id="type-checking" tabindex="-1">Type Checking <a class="header-anchor" href="#type-checking" aria-label="Permalink to &quot;Type Checking&quot;">​</a></h2><p>Run type checks before committing to catch errors across both packages:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Frontend</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tsc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --noEmit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Server</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tsc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --noEmit</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Always run <code>npx tsc --noEmit</code> on the frontend before submitting changes. The project uses TypeScript strict mode, and type errors will block the production build.</p></div><h2 id="tests" tabindex="-1">Tests <a class="header-anchor" href="#tests" aria-label="Permalink to &quot;Tests&quot;">​</a></h2><p>The project uses <a href="https://vitest.dev/" target="_blank" rel="noreferrer">Vitest</a> with happy-dom. Run the full test suite:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span></code></pre></div><p>Run a specific test file:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/features/bins/__tests__/useBins.test.ts</span></span></code></pre></div><p>Tests mock <code>apiFetch</code> from <code>@/lib/api</code> and <code>useAuth</code> from <code>@/lib/auth</code>. No running server or database is needed to execute tests.</p><h2 id="production-build" tabindex="-1">Production Build <a class="header-anchor" href="#production-build" aria-label="Permalink to &quot;Production Build&quot;">​</a></h2><p>Build the frontend for production:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><p>The output lands in <code>dist/</code>. In production (and in Docker), Express serves this directory as static files.</p><h2 id="linting" tabindex="-1">Linting <a class="header-anchor" href="#linting" aria-label="Permalink to &quot;Linting&quot;">​</a></h2><p>The project uses <a href="https://biomejs.dev/" target="_blank" rel="noreferrer">Biome</a> for linting and formatting — not ESLint or Prettier.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> biome</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/</span></span></code></pre></div><p>To apply auto-fixes:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> biome</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The <code>biome.json</code> in the project root contains all lint and format rules. Do not add ESLint or Prettier configuration files.</p></div><h2 id="project-structure" tabindex="-1">Project Structure <a class="header-anchor" href="#project-structure" aria-label="Permalink to &quot;Project Structure&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>openbin/</span></span>
<span class="line"><span>├── src/              # React frontend (TypeScript)</span></span>
<span class="line"><span>│   ├── features/     # Feature modules (bins, locations, print, etc.)</span></span>
<span class="line"><span>│   ├── components/   # Shared UI components</span></span>
<span class="line"><span>│   └── lib/          # Utilities (api, auth, eventBus, etc.)</span></span>
<span class="line"><span>├── server/</span></span>
<span class="line"><span>│   └── src/          # Express API (TypeScript)</span></span>
<span class="line"><span>├── docs/             # This documentation site (VitePress)</span></span>
<span class="line"><span>└── docker-compose.yml</span></span></code></pre></div>`,43)])])}const u=e(n,[["render",l]]);export{k as __pageData,u as default};
