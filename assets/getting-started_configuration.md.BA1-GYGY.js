import{_ as t,o as a,c as d,ag as o}from"./chunks/framework.BRz7bqS8.js";const u=JSON.parse('{"title":"Configuration Reference","description":"","frontmatter":{},"headers":[],"relativePath":"getting-started/configuration.md","filePath":"getting-started/configuration.md"}'),r={name:"getting-started/configuration.md"};function i(n,e,c,s,l,h){return a(),d("div",null,[...e[0]||(e[0]=[o(`<h1 id="configuration-reference" tabindex="-1">Configuration Reference <a class="header-anchor" href="#configuration-reference" aria-label="Permalink to &quot;Configuration Reference&quot;">​</a></h1><p>No configuration is required to get started. All variables have safe defaults. Create a <code>.env</code> file in the project root to override any of them.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span></code></pre></div><p>Uncomment only the lines you need to change. The file is loaded automatically by Docker Compose and by the Express server at startup.</p><hr><h3 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>HOST_PORT</code></td><td><code>1453</code></td><td>Externally-exposed port that maps to the container&#39;s internal port 3000. Change this to run OpenBin on a different host port.</td></tr></tbody></table><hr><h3 id="server" tabindex="-1">Server <a class="header-anchor" href="#server" aria-label="Permalink to &quot;Server&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>PORT</code></td><td><code>3000</code></td><td>Internal Express server port. Rarely needs changing unless you have a port conflict inside the container.</td></tr></tbody></table><hr><h3 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>JWT_SECRET</code></td><td><em>(auto-generated)</em></td><td>JWT signing secret. Auto-generated on first run and persisted to <code>/data/.jwt_secret</code> if unset. Set explicitly to keep sessions valid across container rebuilds.</td></tr><tr><td><code>JWT_EXPIRES_IN</code></td><td><code>7d</code></td><td>Legacy token lifetime used for API key compatibility.</td></tr><tr><td><code>ACCESS_TOKEN_EXPIRES_IN</code></td><td><code>15m</code></td><td>Lifetime of the short-lived access token stored in an httpOnly cookie.</td></tr><tr><td><code>REFRESH_TOKEN_MAX_DAYS</code></td><td><code>7</code></td><td>Refresh token lifetime in days. Accepted range: 1–90.</td></tr><tr><td><code>COOKIE_SECURE</code></td><td><em>(auto)</em></td><td>Forces the <code>Secure</code> flag on cookies. Defaults to <code>true</code> in production automatically. Set explicitly if needed.</td></tr><tr><td><code>BCRYPT_ROUNDS</code></td><td><code>12</code></td><td>Password hashing cost factor. Range: 4–31. Higher values are more secure but slower.</td></tr><tr><td><code>REGISTRATION_ENABLED</code></td><td><code>true</code></td><td>Set to <code>false</code> to disable new user registration. Existing users can still log in.</td></tr></tbody></table><hr><h3 id="upload-limits" tabindex="-1">Upload Limits <a class="header-anchor" href="#upload-limits" aria-label="Permalink to &quot;Upload Limits&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>MAX_PHOTO_SIZE_MB</code></td><td><code>5</code></td><td>Maximum size per photo upload in megabytes. Accepted range: 1–50.</td></tr><tr><td><code>MAX_AVATAR_SIZE_MB</code></td><td><code>2</code></td><td>Maximum size per avatar upload in megabytes. Accepted range: 1–10.</td></tr></tbody></table><hr><h3 id="ai-provider-server-wide-fallback" tabindex="-1">AI Provider (server-wide fallback) <a class="header-anchor" href="#ai-provider-server-wide-fallback" aria-label="Permalink to &quot;AI Provider (server-wide fallback)&quot;">​</a></h3><p>When set, all users get AI features without needing to configure their own API keys. Individual users can still override with their own settings in their profile.</p><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>AI_PROVIDER</code></td><td><em>(unset)</em></td><td>AI provider to use. Accepted values: <code>openai</code>, <code>anthropic</code>, <code>gemini</code>, <code>openai-compatible</code>.</td></tr><tr><td><code>AI_API_KEY</code></td><td><em>(unset)</em></td><td>API key for the configured provider.</td></tr><tr><td><code>AI_MODEL</code></td><td><em>(unset)</em></td><td>Model name to use. Examples: <code>gpt-4o</code>, <code>claude-sonnet-4-5-20250514</code>, <code>gemini-2.0-flash</code>.</td></tr><tr><td><code>AI_ENDPOINT_URL</code></td><td><em>(unset)</em></td><td>Custom endpoint URL. Required only when <code>AI_PROVIDER=openai-compatible</code> (e.g. <code>http://localhost:11434/v1</code> for Ollama).</td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">Supported providers</p><p>OpenBin supports OpenAI, Anthropic (Claude), Google Gemini, and any OpenAI-compatible API such as Ollama or LM Studio. Each user can also configure their own key independently via their profile settings.</p></div><hr><h3 id="ai-encryption" tabindex="-1">AI Encryption <a class="header-anchor" href="#ai-encryption" aria-label="Permalink to &quot;AI Encryption&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>AI_ENCRYPTION_KEY</code></td><td><em>(unset)</em></td><td>Encrypts user AI API keys at rest using AES-256-GCM. Generate a key with <code>openssl rand -base64 32</code>. If unset, API keys are stored in plaintext.</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Generating an encryption key</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rand</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -base64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span></span></code></pre></div><p>Copy the output into your <code>.env</code> file as <code>AI_ENCRYPTION_KEY=&lt;value&gt;</code>. Do not change this value after users have saved API keys, or the existing keys will become unreadable.</p></div><hr><h3 id="backups" tabindex="-1">Backups <a class="header-anchor" href="#backups" aria-label="Permalink to &quot;Backups&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>BACKUP_ENABLED</code></td><td><code>false</code></td><td>Set to <code>true</code> to enable automatic database backups.</td></tr><tr><td><code>BACKUP_INTERVAL</code></td><td><code>daily</code></td><td>Backup schedule. See <a href="#backup-schedule-formats">Backup Schedule Formats</a> below.</td></tr><tr><td><code>BACKUP_RETENTION</code></td><td><code>7</code></td><td>Number of days to keep backup files before they are automatically deleted. Accepted range: 1–365.</td></tr><tr><td><code>BACKUP_WEBHOOK_URL</code></td><td><em>(unset)</em></td><td>Optional URL that receives a POST request on backup failure. Payload: <code>{ event, error, timestamp }</code>.</td></tr></tbody></table><p>Backup files are written to <code>/data/backups/</code> inside the container (<code>BACKUP_PATH</code> in docker-compose.yml maps to the <code>api_data</code> volume).</p><hr><h3 id="rate-limiting" tabindex="-1">Rate Limiting <a class="header-anchor" href="#rate-limiting" aria-label="Permalink to &quot;Rate Limiting&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>DISABLE_RATE_LIMIT</code></td><td><code>false</code></td><td>Set to <code>true</code> to disable all rate limiters. Useful in development or automated test environments. Do not disable in production.</td></tr></tbody></table><hr><h3 id="advanced" tabindex="-1">Advanced <a class="header-anchor" href="#advanced" aria-label="Permalink to &quot;Advanced&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>CORS_ORIGIN</code></td><td><code>http://localhost:5173</code></td><td>Allowed CORS origin for API requests. Only relevant for non-Docker local development where the frontend and API run on different origins.</td></tr><tr><td><code>TRUST_PROXY</code></td><td><code>false</code></td><td>Set to <code>true</code> when running behind a reverse proxy such as Nginx or Caddy. Required for correct IP detection in rate limiting and for the <code>Secure</code> cookie flag to work over HTTPS.</td></tr></tbody></table><hr><h2 id="backup-schedule-formats" tabindex="-1">Backup Schedule Formats <a class="header-anchor" href="#backup-schedule-formats" aria-label="Permalink to &quot;Backup Schedule Formats&quot;">​</a></h2><p>The <code>BACKUP_INTERVAL</code> variable accepts the following values:</p><table tabindex="0"><thead><tr><th>Value</th><th>Behavior</th></tr></thead><tbody><tr><td><code>hourly</code></td><td>Runs a backup every hour</td></tr><tr><td><code>daily</code></td><td>Runs a backup once per day at midnight</td></tr><tr><td><code>weekly</code></td><td>Runs a backup once per week</td></tr><tr><td>Custom cron expression</td><td>Any valid 5-field cron expression</td></tr></tbody></table><p><strong>Custom cron examples:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0 3 * * *       # Every day at 3:00 AM</span></span>
<span class="line"><span>0 */6 * * *     # Every 6 hours</span></span>
<span class="line"><span>0 2 * * 0       # Every Sunday at 2:00 AM</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Use a tool like <a href="https://crontab.guru/" target="_blank" rel="noreferrer">crontab.guru</a> to build and verify cron expressions.</p></div>`,42)])])}const b=t(r,[["render",i]]);export{u as __pageData,b as default};
