import{_ as e,o as s,c as i,ag as t}from"./chunks/framework.BRz7bqS8.js";const k=JSON.parse('{"title":"Docker Quick Start","description":"","frontmatter":{},"headers":[],"relativePath":"getting-started/docker.md","filePath":"getting-started/docker.md"}'),n={name:"getting-started/docker.md"};function o(p,a,d,l,h,r){return s(),i("div",null,[...a[0]||(a[0]=[t(`<h1 id="docker-quick-start" tabindex="-1">Docker Quick Start <a class="header-anchor" href="#docker-quick-start" aria-label="Permalink to &quot;Docker Quick Start&quot;">​</a></h1><p>Docker is the recommended way to run OpenBin. A single <code>docker compose up -d</code> command starts the server, serves the frontend, and handles data persistence — no additional setup required.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noreferrer">Docker</a> installed (Docker Desktop on Mac/Windows, or Docker Engine on Linux)</li></ul><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/akifbayram/openbin.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openbin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>Then open <code>http://localhost:1453</code> in your browser. Register an account and start adding bins.</p><div class="tip custom-block"><p class="custom-block-title">First run</p><p>On first startup, OpenBin creates the SQLite database and generates a JWT secret automatically. No environment variables need to be set before running.</p></div><h2 id="data-persistence" tabindex="-1">Data Persistence <a class="header-anchor" href="#data-persistence" aria-label="Permalink to &quot;Data Persistence&quot;">​</a></h2><p>All data is stored in the <code>api_data</code> Docker volume, mounted at <code>/data</code> inside the container:</p><table tabindex="0"><thead><tr><th>Path inside container</th><th>Contents</th></tr></thead><tbody><tr><td><code>/data/openbin.db</code></td><td>SQLite database (all bins, locations, users)</td></tr><tr><td><code>/data/photos/</code></td><td>Uploaded bin and avatar photos</td></tr><tr><td><code>/data/backups/</code></td><td>Automatic backups (if enabled)</td></tr><tr><td><code>/data/.jwt_secret</code></td><td>Auto-generated JWT signing secret</td></tr></tbody></table><p>The volume is named <code>api_data</code> and is managed by Docker. Data persists across container restarts and updates.</p><div class="warning custom-block"><p class="custom-block-title">Backing up your data</p><p>To back up manually, copy the contents of the Docker volume or enable the built-in backup feature (see <a href="./configuration.html">Configuration</a>). At minimum, preserve the <code>openbin.db</code> file — it contains everything except photos.</p></div><h2 id="changing-the-port" tabindex="-1">Changing the Port <a class="header-anchor" href="#changing-the-port" aria-label="Permalink to &quot;Changing the Port&quot;">​</a></h2><p>By default, OpenBin is accessible on port <code>1453</code>. To use a different port, set <code>HOST_PORT</code> in a <code>.env</code> file in the project root:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .env</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HOST_PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">8080</span></span></code></pre></div><p>Then restart the container:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>OpenBin will now be available at <code>http://localhost:8080</code>.</p><h2 id="updating" tabindex="-1">Updating <a class="header-anchor" href="#updating" aria-label="Permalink to &quot;Updating&quot;">​</a></h2><p>Pull the latest image and restart:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>The database and all data on the volume are preserved.</p><h2 id="viewing-logs" tabindex="-1">Viewing Logs <a class="header-anchor" href="#viewing-logs" aria-label="Permalink to &quot;Viewing Logs&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openbin</span></span></code></pre></div><p>Press <code>Ctrl+C</code> to stop following logs.</p><h2 id="stopping" tabindex="-1">Stopping <a class="header-anchor" href="#stopping" aria-label="Permalink to &quot;Stopping&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span></code></pre></div><p>This stops and removes the container but leaves the <code>api_data</code> volume intact. Your data is not lost.</p><p>To stop and remove all data (destructive):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">Data loss warning</p><p><code>docker compose down -v</code> permanently deletes the <code>api_data</code> volume and all your bins, photos, and user data. There is no recovery after this operation.</p></div><h2 id="backup" tabindex="-1">Backup <a class="header-anchor" href="#backup" aria-label="Permalink to &quot;Backup&quot;">​</a></h2><h3 id="manual-backup" tabindex="-1">Manual backup <a class="header-anchor" href="#manual-backup" aria-label="Permalink to &quot;Manual backup&quot;">​</a></h3><p>Copy the Docker volume data to a safe location. The database file is the critical piece:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openbin:/data/openbin.db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./openbin-backup.db</span></span></code></pre></div><h3 id="automatic-backups" tabindex="-1">Automatic backups <a class="header-anchor" href="#automatic-backups" aria-label="Permalink to &quot;Automatic backups&quot;">​</a></h3><p>Enable the built-in backup feature by setting environment variables in your <code>.env</code> file:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BACKUP_ENABLED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BACKUP_INTERVAL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">daily</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BACKUP_RETENTION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">7</span></span></code></pre></div><p>Backup files are written to <code>/data/backups/</code> inside the container (the <code>api_data</code> volume). See <a href="./configuration.html">Configuration</a> for the full backup reference.</p><h2 id="running-behind-a-reverse-proxy" tabindex="-1">Running Behind a Reverse Proxy <a class="header-anchor" href="#running-behind-a-reverse-proxy" aria-label="Permalink to &quot;Running Behind a Reverse Proxy&quot;">​</a></h2><p>If you place OpenBin behind Nginx, Caddy, or another reverse proxy, set <code>TRUST_PROXY=true</code> in your <code>.env</code> file so that rate limiting and secure cookie handling work correctly:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TRUST_PROXY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">true</span></span></code></pre></div><p>The API documentation (OpenAPI spec) is available at <code>server/openapi.yaml</code>. A Swagger UI is available at <code>/api-docs/</code> when running behind Nginx.</p>`,44)])])}const u=e(n,[["render",o]]);export{k as __pageData,u as default};
