# ──────────────────────────────────────────────
# OpenBin — Environment Variable Configuration
# ──────────────────────────────────────────────
# Copy this file to .env and uncomment the vars you need.
# All values shown are the defaults.

# ── Docker ──────────────────────────────────
# HOST_PORT=1453                    # Externally-exposed port (maps to container :1453)

# ── Server ──────────────────────────────────
# PORT=1453                         # Internal server port (rarely needs changing)

# ── Authentication ────────────────────────────
# JWT_SECRET=                        # Auto-generated if unset
# JWT_EXPIRES_IN=7d                  # Legacy token lifetime (API key compat)
# ACCESS_TOKEN_EXPIRES_IN=15m        # Short-lived access token (httpOnly cookie)
# REFRESH_TOKEN_MAX_DAYS=7           # Refresh token lifetime in days (1–90)
# COOKIE_SECURE=                     # Force Secure flag on cookies (auto: true in production)
# BCRYPT_ROUNDS=12                   # 4–31 (higher = slower but more secure)
# REGISTRATION_ENABLED=true          # Set to false to disable new sign-ups

# ── Upload Limits ─────────────────────────────
# MAX_PHOTO_SIZE_MB=5                # 1–50 MB per photo upload
# MAX_AVATAR_SIZE_MB=2               # 1–10 MB per avatar upload

# ── AI Provider (server-wide fallback) ────────
# When set, all users get AI features without configuring their own keys.
# Users can still override with their own settings.
# AI_PROVIDER=                       # openai | anthropic | gemini | openai-compatible
# AI_API_KEY=
# AI_MODEL=                          # e.g. gpt-5-mini, claude-sonnet-4-6, gemini-3-flash-preview
# AI_ENDPOINT_URL=                   # Only for openai-compatible (e.g. http://localhost:11434/v1)

# ── AI Encryption ─────────────────────────────
# Encrypts user AI API keys at rest (AES-256-GCM).
# Generate with: openssl rand -base64 32
# AI_ENCRYPTION_KEY=

# ── Backups ───────────────────────────────────
# BACKUP_ENABLED=false
# BACKUP_INTERVAL=daily              # hourly | daily | weekly | cron expression
# BACKUP_RETENTION=7                 # Days to keep backups (1–365)
# BACKUP_WEBHOOK_URL=                # POST on failure (JSON: { event, error, timestamp })

# ── Rate Limiting ─────────────────────────────
# DISABLE_RATE_LIMIT=false           # Set to true to disable all rate limiters

# ── Advanced ──────────────────────────────────
# CORS_ORIGIN=http://localhost:5173  # Only needed for non-Docker dev setups
# TRUST_PROXY=false                  # Set to true when behind a reverse proxy (nginx, Caddy, etc.)
